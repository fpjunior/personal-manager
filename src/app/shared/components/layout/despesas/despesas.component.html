<div>
  <p-dialog #dialogDrop (onHide)="onHideDialog()" [draggable]="false" closeIcon="fa fa-times" [modal]="true"
    [baseZIndex]="10000" [(visible)]="showDialogDespesa" header="Cadastrar Nova Despesa">
    <form method="post" [formGroup]="despesasForm" (ngSubmit)="saveDespesa(despesasForm)">
      <div class="p-grid">

        <div class="field col-3 form-applications">
          <input-text  label="Tipo de despesas" formControlName="type" id="type" [type]="'text'">
          </input-text>
        </div>

        <div class="field col-3 form-applications">
          <input-text label="Descrição" [control]="despesasForm.get('description')" [requiredLabel]="true" formControlName="description"
            id="description" [type]="'text'">
          </input-text>
        </div>

        <div class="field col-3 form-applications">
          <input-text label="Valor" [control]="despesasForm.get('value')" [requiredLabel]="true" formControlName="value"
            id="value" [type]="'text'">
          </input-text>
        </div>

        <div class="field col-3 form-applications">
          <input-text label="Tipo de pagamento" [control]="despesasForm.get('typePayment')" [requiredLabel]="true" formControlName="typePayment"
            id="typePayment" [type]="'text'">
          </input-text>
        </div>

        <div class="field col-3 form-applications">
          <input-text label="Estabelecimento" [control]="despesasForm.get('localEstablishment')" [requiredLabel]="true" formControlName="localEstablishment"
            id="typePayment" [type]="'text'">
          </input-text>
        </div>

        <div class="field col-3 form-applications">
          <input-text label="Data de expedição" [control]="despesasForm.get('expenseDate')" [requiredLabel]="true" formControlName="expenseDate"
            id="expenseDate" [type]="'text'">
          </input-text>
        </div>


      </div>

      <div class="buttons-actions">
        <p-button type="submit" icon="fa fa-check" [disabled]="this.despesasForm.invalid" class="standard" label="Salvar">
        </p-button>
        <p-button type="button" icon="fa fa-times" (onClick)="showDialogDespesa = false" class="dismiss" label="Cancelar">
        </p-button>
      </div>

    </form>
  </p-dialog>

    <!--<div class="grid input-button-search">
      <span class="p-input-icon-left p-ml-auto">
        <i class="pi pi-search"></i>
        <input class="input-search" pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')"
          placeholder="Digite despesa" />
        <p-button pRipple label="Criar Despesa" class="standard btn-criar-despesa" type="button" (click)="openDialogAddDespesa()">
        </p-button>
      </span>
    </div>-->

    <div class="grid group-inputFilter-btnCreate">

      <!-- esse trecho é um grupo, onde fica juntos o botão de criar contato juntamente com o input de filtro global -->
      <div class="col-12 div-group-nputFilter-btnCreate">
      <span class="p-input-icon-left p-ml-auto input-filterGlobal">
        <!-- essa tag abaixo apenas coloca um ícone dentro do input, o ícone da lupa -->
        <i class="pi pi-search"></i>
          <input class="input-search" pInputText type="text" (input)="dt.filterGlobal($event.target.value, 'contains')"
            placeholder="Digite o tipo ou valor da despesa" />
          </span>
        </div>
        <!-- aqui é o botão de criar contato -->
        <p-button pRipple label="Cadastrar Despesa" class="standard btn-criar-despesa" type="button"(click)="openDialogAddDespesa()">
        </p-button>
    </div>

  <p-table #dt [value]="dataToFillTable" [columns]="cols" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
    currentPageReportTemplate="Mostrando {first} a {last} de {totalRecords} entradas" [rowsPerPageOptions]="[5,10,25]"
    [globalFilterFields]="['type','value']" sortField="code" [reorderableColumns]="true"
    [sortOrder]="-1"  responsiveLayout="scroll" [loading]="loading" [scrollable]="true" scrollHeight="400px" [filterDelay]="1500" [resizableColumns]="true">

    <ng-template pTemplate="header" let-columns>
      <tr>
							<th id="config" class="size-first-column">
								<button pButton type="button" class="tableButton" icon="fas fa-cog "
									(click)="showModalSelectColumns()" pTooltip="Configurações"></button>
							</th>

              <th columnResizeMode="expand" *ngFor="let col of columns; let i = index"
              [pTooltip]="col.hintName" tooltipPosition="top" [pSortableColumn]="col.field"
              pResizableColumn pReorderableColumn [id]="col.field">
              {{col.header}}
              <p-sortIcon *ngIf="col.field !== 'operation'" [field]="col.field"></p-sortIcon>

              <p-columnFilter  *ngIf="col.field !== 'operation'" styleClass="button-operation"
              [type]="'text'" [field]="col.field"
              [matchMode]="'contains'" display="menu" #filterTable>
              </p-columnFilter>

              </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-dataToFillTable let-rowData let-rowIndex="rowIndex" let-columns="columns">
      <tr>

        <td class="size-first-column"></td>
        <td *ngFor="let col of columns; let i = index">
          <span
          [pTooltip]="rowData[col.field]">
          {{rowData[col.field]}}
        </span>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>


<app-dialog-table-column (onClose)="onHideDialogTable()" [showModal]="showModalColumn"
[fullCols]="fullCols" [colsModified]="cols" [immutables]="immutableCols"
(saveColumn)="editColumns($event)">
</app-dialog-table-column>

